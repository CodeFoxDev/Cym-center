//lookup tables from: http://transvoxel.org/Transvoxel.cpp

class MarchingCubes {
    static calculateChunkTypes(vClass, valueSizeX, valueSizeY, valueSizeZ) {
        let types = new ValueBox3d(Float32Array, valueSizeX, valueSizeY, valueSizeZ);
        
        let allFull = 1;
        let allEmpty = 1;

        let valIndex, type;
        let typeIndex = 0;
        for(let z = 0; z < valueSizeZ; z++) {
            for(let y = 0; y < valueSizeY; y++) {
                for(let x = 0; x < valueSizeX; x++) {
                    valIndex = vClass.getIndex(x, y, z);

                    type =  (vClass.getByIndex(valIndex + vClass.corners[0]) > 0)*1  +
                            (vClass.getByIndex(valIndex + vClass.corners[1]) > 0)*2  +
                            (vClass.getByIndex(valIndex + vClass.corners[2]) > 0)*4  +
                            (vClass.getByIndex(valIndex + vClass.corners[3]) > 0)*8  +
                            (vClass.getByIndex(valIndex + vClass.corners[4]) > 0)*16 +
                            (vClass.getByIndex(valIndex + vClass.corners[5]) > 0)*32 +
                            (vClass.getByIndex(valIndex + vClass.corners[6]) > 0)*64 +
                            (vClass.getByIndex(valIndex + vClass.corners[7]) > 0)*128
                    
                    types.values[typeIndex] = type;

                    allFull &= (type == 255);
                    allEmpty &= (type == 0);
                    typeIndex++;
                }
            }
        }
        if((allFull | allEmpty) == 1) {
            return false;
        }

        return types;
    }

    static marchCube(chunkX, chunkY, chunkZ, x, y, z, vClass, type, resolution, mesh) {
        const valIndex = vClass.getIndex(x, y, z);
        
        const cubeVertices = this.regularVertexData[type];
        const cubeIndices = this.regularCellData[this.regularCellClass[type]];

        let vertex, startIndex, endIndex, startValue, endValue, interp, nInterp, vx, vy, vz, vExists;
		let vertexIndices = [];
		for(let v = 0; v < cubeVertices.length; v++) {
			vertex = cubeVertices[v];
			startIndex = vertex & 15;
			endIndex = (vertex >>> 4) & 15;

			startValue = vClass.values[valIndex + vClass.corners[startIndex]];
			endValue = vClass.values[valIndex + vClass.corners[endIndex]];

			interp = -startValue / (endValue - startValue);
			nInterp = 1 - interp;
			
            
			vx = chunkX + resolution * (x + this.regularVertexCoords[startIndex*3    ]*nInterp + this.regularVertexCoords[endIndex*3    ]*interp),
			vy = chunkY + resolution * (y + this.regularVertexCoords[startIndex*3 + 1]*nInterp + this.regularVertexCoords[endIndex*3 + 1]*interp),
			vz = chunkZ + resolution * (z + this.regularVertexCoords[startIndex*3 + 2]*nInterp + this.regularVertexCoords[endIndex*3 + 2]*interp)
			
            vExists = false;
			for(let i = 0; i < mesh.vertices.length; i += 3) {
				if(mesh.vertices[i] == vx && mesh.vertices[i+1] == vy && mesh.vertices[i+2] == vz) {
					vertexIndices.push(i/3);
					vExists = true;
					break;
				}
			}
            if(vExists) continue;
			
			mesh.vertices.push(vx, vy, vz);
		    vertexIndices.push(mesh.vertices.length/3-1);
            
            mesh.colors.push(.5, .5, .5, 1);
            
            const normal1 = vClass.getNormal(
                x + this.regularVertexCoords[startIndex * 3    ],
                y + this.regularVertexCoords[startIndex * 3 + 1],
                z + this.regularVertexCoords[startIndex * 3 + 2],
                1
            );
            const normal2 = vClass.getNormal(
                x + this.regularVertexCoords[endIndex * 3    ],
                y + this.regularVertexCoords[endIndex * 3 + 1],
                z + this.regularVertexCoords[endIndex * 3 + 2],
                1
            );

            mesh.normals.push(
                (normal1[0] * nInterp + normal2[0] * interp),
                (normal1[1] * nInterp + normal2[1] * interp),
                (normal1[2] * nInterp + normal2[2] * interp)
            );
		}

        for(let i of cubeIndices) {
            mesh.indices.push(vertexIndices[i]);
        }
    }

    static marchChunk(chunkX, chunkY, chunkZ, vClass, types, resolution) {
        let meshObj = {
            vertices: [],
            indices: [],
            colors: [],
            normals: []
        };

        const chunkXOffset = chunkX * CHUNK_SIZE.x;
        const chunkYOffset = chunkY * CHUNK_SIZE.y;
        const chunkZOffset = chunkZ * CHUNK_SIZE.z;

        const valueSizeX = CHUNK_SIZE.x / resolution;
        const valueSizeY = CHUNK_SIZE.y / resolution;
        const valueSizeZ = CHUNK_SIZE.z / resolution;

        let type;
        let typeIndex = 0;
        for(let z = 0; z < valueSizeZ; z++) {
            for(let y = 0; y < valueSizeY; y++) {
                for(let x = 0; x < valueSizeX; x++) {
                    type = types.values[typeIndex];
                    typeIndex++;
                    if(type == 0 || type == 255) {
                        continue;
                    }

                    this.marchCube(
                        chunkXOffset, chunkYOffset, chunkZOffset,
                        x, y, z, 
                        vClass, type, resolution, 
                        meshObj
                    );
                }
            }
        }

        return new Mesh(meshObj.vertices, meshObj.indices, meshObj.colors, meshObj.normals);
    }

    static regularVertexCoords = [
        0, 0, 0,
        1, 0, 0,
        0, 1, 0,
        1, 1, 0,
        0, 0, 1,
        1, 0, 1,
        0, 1, 1,
        1, 1, 1
    ];

    static regularCellClass = [
        0x00, 0x01, 0x01, 0x03, 0x01, 0x03, 0x02, 0x04, 0x01, 0x02, 0x03, 0x04, 0x03, 0x04, 0x04, 0x03,
        0x01, 0x03, 0x02, 0x04, 0x02, 0x04, 0x06, 0x0C, 0x02, 0x05, 0x05, 0x0B, 0x05, 0x0A, 0x07, 0x04,
        0x01, 0x02, 0x03, 0x04, 0x02, 0x05, 0x05, 0x0A, 0x02, 0x06, 0x04, 0x0C, 0x05, 0x07, 0x0B, 0x04,
        0x03, 0x04, 0x04, 0x03, 0x05, 0x0B, 0x07, 0x04, 0x05, 0x07, 0x0A, 0x04, 0x08, 0x0E, 0x0E, 0x03,
        0x01, 0x02, 0x02, 0x05, 0x03, 0x04, 0x05, 0x0B, 0x02, 0x06, 0x05, 0x07, 0x04, 0x0C, 0x0A, 0x04,
        0x03, 0x04, 0x05, 0x0A, 0x04, 0x03, 0x07, 0x04, 0x05, 0x07, 0x08, 0x0E, 0x0B, 0x04, 0x0E, 0x03,
        0x02, 0x06, 0x05, 0x07, 0x05, 0x07, 0x08, 0x0E, 0x06, 0x09, 0x07, 0x0F, 0x07, 0x0F, 0x0E, 0x0D,
        0x04, 0x0C, 0x0B, 0x04, 0x0A, 0x04, 0x0E, 0x03, 0x07, 0x0F, 0x0E, 0x0D, 0x0E, 0x0D, 0x02, 0x01,
        0x01, 0x02, 0x02, 0x05, 0x02, 0x05, 0x06, 0x07, 0x03, 0x05, 0x04, 0x0A, 0x04, 0x0B, 0x0C, 0x04,
        0x02, 0x05, 0x06, 0x07, 0x06, 0x07, 0x09, 0x0F, 0x05, 0x08, 0x07, 0x0E, 0x07, 0x0E, 0x0F, 0x0D,
        0x03, 0x05, 0x04, 0x0B, 0x05, 0x08, 0x07, 0x0E, 0x04, 0x07, 0x03, 0x04, 0x0A, 0x0E, 0x04, 0x03,
        0x04, 0x0A, 0x0C, 0x04, 0x07, 0x0E, 0x0F, 0x0D, 0x0B, 0x0E, 0x04, 0x03, 0x0E, 0x02, 0x0D, 0x01,
        0x03, 0x05, 0x05, 0x08, 0x04, 0x0A, 0x07, 0x0E, 0x04, 0x07, 0x0B, 0x0E, 0x03, 0x04, 0x04, 0x03,
        0x04, 0x0B, 0x07, 0x0E, 0x0C, 0x04, 0x0F, 0x0D, 0x0A, 0x0E, 0x0E, 0x02, 0x04, 0x03, 0x0D, 0x01,
        0x04, 0x07, 0x0A, 0x0E, 0x0B, 0x0E, 0x0E, 0x02, 0x0C, 0x0F, 0x04, 0x0D, 0x04, 0x0D, 0x03, 0x01,
        0x03, 0x04, 0x04, 0x03, 0x04, 0x03, 0x0D, 0x01, 0x04, 0x0D, 0x03, 0x01, 0x03, 0x01, 0x01, 0x00
    ];

    static regularCellData = [
        [],
        [0, 1, 2],
        [0, 1, 2, 3, 4, 5],
        [0, 1, 2, 0, 2, 3],
        [0, 1, 4, 1, 3, 4, 1, 2, 3],
        [0, 1, 2, 0, 2, 3, 4, 5, 6],
        [0, 1, 2, 3, 4, 5, 6, 7, 8],
        [0, 1, 4, 1, 3, 4, 1, 2, 3, 5, 6, 7],
        [0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7],
        [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
        [0, 4, 5, 0, 1, 4, 1, 3, 4, 1, 2, 3],
        [0, 5, 4, 0, 4, 1, 1, 4, 3, 1, 3, 2],
        [0, 4, 5, 0, 3, 4, 0, 1, 3, 1, 2, 3],
        [0, 1, 2, 0, 2, 3, 0, 3, 4, 0, 4, 5],
        [0, 1, 2, 0, 2, 3, 0, 3, 4, 0, 4, 5, 0, 5, 6],
        [0, 4, 5, 0, 3, 4, 0, 1, 3, 1, 2, 3, 6, 7, 8]
    ];

    static regularVertexData = [
        [], 
        [0x6201, 0x5102, 0x3304], 
        [0x6201, 0x2315, 0x4113], 
        [0x5102, 0x3304, 0x2315, 0x4113], 
        [0x5102, 0x4223, 0x1326], 
        [0x3304, 0x6201, 0x4223, 0x1326], 
        [0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326], 
        [0x4223, 0x1326, 0x3304, 0x2315, 0x4113], 
        [0x4113, 0x8337, 0x4223], 
        [0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337], 
        [0x6201, 0x2315, 0x8337, 0x4223], 
        [0x5102, 0x3304, 0x2315, 0x8337, 0x4223], 
        [0x5102, 0x4113, 0x8337, 0x1326], 
        [0x4113, 0x8337, 0x1326, 0x3304, 0x6201], 
        [0x6201, 0x2315, 0x8337, 0x1326, 0x5102], 
        [0x3304, 0x2315, 0x8337, 0x1326], 
        [0x3304, 0x1146, 0x2245], 
        [0x6201, 0x5102, 0x1146, 0x2245], 
        [0x6201, 0x2315, 0x4113, 0x3304, 0x1146, 0x2245], 
        [0x2315, 0x4113, 0x5102, 0x1146, 0x2245], 
        [0x5102, 0x4223, 0x1326, 0x3304, 0x1146, 0x2245], 
        [0x1146, 0x2245, 0x6201, 0x4223, 0x1326], 
        [0x3304, 0x1146, 0x2245, 0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326], 
        [0x4223, 0x1326, 0x1146, 0x2245, 0x2315, 0x4113], 
        [0x4223, 0x4113, 0x8337, 0x3304, 0x1146, 0x2245], 
        [0x6201, 0x5102, 0x1146, 0x2245, 0x4223, 0x4113, 0x8337], 
        [0x4223, 0x6201, 0x2315, 0x8337, 0x3304, 0x1146, 0x2245], 
        [0x4223, 0x8337, 0x2315, 0x2245, 0x1146, 0x5102], 
        [0x5102, 0x4113, 0x8337, 0x1326, 0x3304, 0x1146, 0x2245], 
        [0x4113, 0x8337, 0x1326, 0x1146, 0x2245, 0x6201], 
        [0x6201, 0x2315, 0x8337, 0x1326, 0x5102, 0x3304, 0x1146, 0x2245], 
        [0x2245, 0x2315, 0x8337, 0x1326, 0x1146], 
        [0x2315, 0x2245, 0x8157], 
        [0x6201, 0x5102, 0x3304, 0x2315, 0x2245, 0x8157], 
        [0x4113, 0x6201, 0x2245, 0x8157], 
        [0x2245, 0x8157, 0x4113, 0x5102, 0x3304], 
        [0x5102, 0x4223, 0x1326, 0x2315, 0x2245, 0x8157], 
        [0x6201, 0x4223, 0x1326, 0x3304, 0x2315, 0x2245, 0x8157], 
        [0x6201, 0x2245, 0x8157, 0x4113, 0x5102, 0x4223, 0x1326], 
        [0x4223, 0x1326, 0x3304, 0x2245, 0x8157, 0x4113], 
        [0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157], 
        [0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157], 
        [0x8337, 0x4223, 0x6201, 0x2245, 0x8157], 
        [0x5102, 0x3304, 0x2245, 0x8157, 0x8337, 0x4223], 
        [0x5102, 0x4113, 0x8337, 0x1326, 0x2315, 0x2245, 0x8157], 
        [0x4113, 0x8337, 0x1326, 0x3304, 0x6201, 0x2315, 0x2245, 0x8157], 
        [0x5102, 0x1326, 0x8337, 0x8157, 0x2245, 0x6201], 
        [0x8157, 0x8337, 0x1326, 0x3304, 0x2245], 
        [0x2315, 0x3304, 0x1146, 0x8157], 
        [0x6201, 0x5102, 0x1146, 0x8157, 0x2315], 
        [0x3304, 0x1146, 0x8157, 0x4113, 0x6201], 
        [0x4113, 0x5102, 0x1146, 0x8157], 
        [0x2315, 0x3304, 0x1146, 0x8157, 0x5102, 0x4223, 0x1326], 
        [0x1326, 0x4223, 0x6201, 0x2315, 0x8157, 0x1146], 
        [0x3304, 0x1146, 0x8157, 0x4113, 0x6201, 0x5102, 0x4223, 0x1326], 
        [0x1326, 0x1146, 0x8157, 0x4113, 0x4223], 
        [0x2315, 0x3304, 0x1146, 0x8157, 0x4223, 0x4113, 0x8337], 
        [0x6201, 0x5102, 0x1146, 0x8157, 0x2315, 0x4223, 0x4113, 0x8337], 
        [0x3304, 0x1146, 0x8157, 0x8337, 0x4223, 0x6201], 
        [0x4223, 0x5102, 0x1146, 0x8157, 0x8337], 
        [0x2315, 0x3304, 0x1146, 0x8157, 0x5102, 0x4113, 0x8337, 0x1326], 
        [0x6201, 0x4113, 0x8337, 0x1326, 0x1146, 0x8157, 0x2315], 
        [0x6201, 0x3304, 0x1146, 0x8157, 0x8337, 0x1326, 0x5102], 
        [0x1326, 0x1146, 0x8157, 0x8337], 
        [0x1326, 0x8267, 0x1146], 
        [0x6201, 0x5102, 0x3304, 0x1326, 0x8267, 0x1146], 
        [0x6201, 0x2315, 0x4113, 0x1326, 0x8267, 0x1146], 
        [0x5102, 0x3304, 0x2315, 0x4113, 0x1326, 0x8267, 0x1146], 
        [0x5102, 0x4223, 0x8267, 0x1146], 
        [0x3304, 0x6201, 0x4223, 0x8267, 0x1146], 
        [0x5102, 0x4223, 0x8267, 0x1146, 0x6201, 0x2315, 0x4113], 
        [0x1146, 0x8267, 0x4223, 0x4113, 0x2315, 0x3304], 
        [0x4113, 0x8337, 0x4223, 0x1326, 0x8267, 0x1146], 
        [0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337, 0x1326, 0x8267, 0x1146],
        [0x6201, 0x2315, 0x8337, 0x4223, 0x1326, 0x8267, 0x1146],
        [0x5102, 0x3304, 0x2315, 0x8337, 0x4223, 0x1326, 0x8267, 0x1146],
        [0x8267, 0x1146, 0x5102, 0x4113, 0x8337],
        [0x6201, 0x4113, 0x8337, 0x8267, 0x1146, 0x3304],
        [0x6201, 0x2315, 0x8337, 0x8267, 0x1146, 0x5102],
        [0x1146, 0x3304, 0x2315, 0x8337, 0x8267],
        [0x3304, 0x1326, 0x8267, 0x2245],
        [0x1326, 0x8267, 0x2245, 0x6201, 0x5102],
        [0x3304, 0x1326, 0x8267, 0x2245, 0x6201, 0x2315, 0x4113],
        [0x1326, 0x8267, 0x2245, 0x2315, 0x4113, 0x5102],
        [0x5102, 0x4223, 0x8267, 0x2245, 0x3304],
        [0x6201, 0x4223, 0x8267, 0x2245],
        [0x5102, 0x4223, 0x8267, 0x2245, 0x3304, 0x6201, 0x2315, 0x4113],
        [0x4113, 0x4223, 0x8267, 0x2245, 0x2315],
        [0x3304, 0x1326, 0x8267, 0x2245, 0x4223, 0x4113, 0x8337],
        [0x1326, 0x8267, 0x2245, 0x6201, 0x5102, 0x4223, 0x4113, 0x8337],
        [0x3304, 0x1326, 0x8267, 0x2245, 0x4223, 0x6201, 0x2315, 0x8337], 
        [0x5102, 0x1326, 0x8267, 0x2245, 0x2315, 0x8337, 0x4223],
        [0x3304, 0x2245, 0x8267, 0x8337, 0x4113, 0x5102],
        [0x8337, 0x8267, 0x2245, 0x6201, 0x4113], 
        [0x5102, 0x6201, 0x2315, 0x8337, 0x8267, 0x2245, 0x3304],
        [0x2315, 0x8337, 0x8267, 0x2245],
        [0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146],
        [0x6201, 0x5102, 0x3304, 0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146],
        [0x6201, 0x2245, 0x8157, 0x4113, 0x1326, 0x8267, 0x1146],
        [0x2245, 0x8157, 0x4113, 0x5102, 0x3304, 0x1326, 0x8267, 0x1146],
        [0x4223, 0x8267, 0x1146, 0x5102, 0x2315, 0x2245, 0x8157],
        [0x3304, 0x6201, 0x4223, 0x8267, 0x1146, 0x2315, 0x2245, 0x8157],
        [0x4223, 0x8267, 0x1146, 0x5102, 0x6201, 0x2245, 0x8157, 0x4113],
        [0x3304, 0x2245, 0x8157, 0x4113, 0x4223, 0x8267, 0x1146],
        [0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146],
        [0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146],
        [0x8337, 0x4223, 0x6201, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146],
        [0x4223, 0x5102, 0x3304, 0x2245, 0x8157, 0x8337, 0x1326, 0x8267, 0x1146],
        [0x8267, 0x1146, 0x5102, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157],
        [0x6201, 0x4113, 0x8337, 0x8267, 0x1146, 0x3304, 0x2315, 0x2245, 0x8157],
        [0x8337, 0x8267, 0x1146, 0x5102, 0x6201, 0x2245, 0x8157],
        [0x3304, 0x2245, 0x8157, 0x8337, 0x8267, 0x1146],
        [0x8157, 0x2315, 0x3304, 0x1326, 0x8267],
        [0x8267, 0x8157, 0x2315, 0x6201, 0x5102, 0x1326],
        [0x8267, 0x1326, 0x3304, 0x6201, 0x4113, 0x8157],
        [0x8267, 0x8157, 0x4113, 0x5102, 0x1326],
        [0x5102, 0x4223, 0x8267, 0x8157, 0x2315, 0x3304],
        [0x2315, 0x6201, 0x4223, 0x8267, 0x8157],
        [0x3304, 0x5102, 0x4223, 0x8267, 0x8157, 0x4113, 0x6201],
        [0x4113, 0x4223, 0x8267, 0x8157],
        [0x8157, 0x2315, 0x3304, 0x1326, 0x8267, 0x4223, 0x4113, 0x8337],
        [0x8157, 0x2315, 0x6201, 0x5102, 0x1326, 0x8267, 0x4223, 0x4113, 0x8337],
        [0x8157, 0x8337, 0x4223, 0x6201, 0x3304, 0x1326, 0x8267], 
        [0x5102, 0x1326, 0x8267, 0x8157, 0x8337, 0x4223], 
        [0x8267, 0x8157, 0x2315, 0x3304, 0x5102, 0x4113, 0x8337],
        [0x6201, 0x4113, 0x8337, 0x8267, 0x8157, 0x2315], 
        [0x6201, 0x3304, 0x5102, 0x8337, 0x8267, 0x8157],
        [0x8337, 0x8267, 0x8157],
        [0x8337, 0x8157, 0x8267],
        [0x6201, 0x5102, 0x3304, 0x8337, 0x8157, 0x8267],
        [0x6201, 0x2315, 0x4113, 0x8337, 0x8157, 0x8267],
        [0x5102, 0x3304, 0x2315, 0x4113, 0x8337, 0x8157, 0x8267],
        [0x5102, 0x4223, 0x1326, 0x8337, 0x8157, 0x8267],
        [0x6201, 0x4223, 0x1326, 0x3304, 0x8337, 0x8157, 0x8267],
        [0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326, 0x8337, 0x8157, 0x8267],
        [0x4223, 0x1326, 0x3304, 0x2315, 0x4113, 0x8337, 0x8157, 0x8267],
        [0x4113, 0x8157, 0x8267, 0x4223],
        [0x4223, 0x4113, 0x8157, 0x8267, 0x6201, 0x5102, 0x3304],
        [0x8157, 0x8267, 0x4223, 0x6201, 0x2315],
        [0x3304, 0x2315, 0x8157, 0x8267, 0x4223, 0x5102],
        [0x1326, 0x5102, 0x4113, 0x8157, 0x8267],
        [0x8157, 0x4113, 0x6201, 0x3304, 0x1326, 0x8267],
        [0x1326, 0x5102, 0x6201, 0x2315, 0x8157, 0x8267],
        [0x8267, 0x1326, 0x3304, 0x2315, 0x8157],
        [0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267],
        [0x6201, 0x5102, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267],
        [0x6201, 0x2315, 0x4113, 0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267],
        [0x2315, 0x4113, 0x5102, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267],
        [0x5102, 0x4223, 0x1326, 0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267],
        [0x1146, 0x2245, 0x6201, 0x4223, 0x1326, 0x8337, 0x8157, 0x8267],
        [0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326, 0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267],
        [0x4113, 0x4223, 0x1326, 0x1146, 0x2245, 0x2315, 0x8337, 0x8157, 0x8267],
        [0x4223, 0x4113, 0x8157, 0x8267, 0x3304, 0x1146, 0x2245],
        [0x6201, 0x5102, 0x1146, 0x2245, 0x4223, 0x4113, 0x8157, 0x8267],
        [0x8157, 0x8267, 0x4223, 0x6201, 0x2315, 0x3304, 0x1146, 0x2245],
        [0x2315, 0x8157, 0x8267, 0x4223, 0x5102, 0x1146, 0x2245],
        [0x1326, 0x5102, 0x4113, 0x8157, 0x8267, 0x3304, 0x1146, 0x2245],
        [0x1326, 0x1146, 0x2245, 0x6201, 0x4113, 0x8157, 0x8267],
        [0x5102, 0x6201, 0x2315, 0x8157, 0x8267, 0x1326, 0x3304, 0x1146, 0x2245],
        [0x1326, 0x1146, 0x2245, 0x2315, 0x8157, 0x8267],
        [0x2315, 0x2245, 0x8267, 0x8337],
        [0x2315, 0x2245, 0x8267, 0x8337, 0x6201, 0x5102, 0x3304],
        [0x4113, 0x6201, 0x2245, 0x8267, 0x8337],
        [0x5102, 0x4113, 0x8337, 0x8267, 0x2245, 0x3304],
        [0x2315, 0x2245, 0x8267, 0x8337, 0x5102, 0x4223, 0x1326],
        [0x6201, 0x4223, 0x1326, 0x3304, 0x8337, 0x2315, 0x2245, 0x8267],
        [0x4113, 0x6201, 0x2245, 0x8267, 0x8337, 0x5102, 0x4223, 0x1326],
        [0x4113, 0x4223, 0x1326, 0x3304, 0x2245, 0x8267, 0x8337],
        [0x2315, 0x2245, 0x8267, 0x4223, 0x4113],
        [0x2315, 0x2245, 0x8267, 0x4223, 0x4113, 0x6201, 0x5102, 0x3304],
        [0x6201, 0x2245, 0x8267, 0x4223],
        [0x3304, 0x2245, 0x8267, 0x4223, 0x5102],
        [0x5102, 0x4113, 0x2315, 0x2245, 0x8267, 0x1326],
        [0x4113, 0x2315, 0x2245, 0x8267, 0x1326, 0x3304, 0x6201],
        [0x5102, 0x6201, 0x2245, 0x8267, 0x1326],
        [0x3304, 0x2245, 0x8267, 0x1326],
        [0x8267, 0x8337, 0x2315, 0x3304, 0x1146],
        [0x5102, 0x1146, 0x8267, 0x8337, 0x2315, 0x6201],
        [0x3304, 0x1146, 0x8267, 0x8337, 0x4113, 0x6201],
        [0x8337, 0x4113, 0x5102, 0x1146, 0x8267],
        [0x8267, 0x8337, 0x2315, 0x3304, 0x1146, 0x5102, 0x4223, 0x1326],
        [0x1146, 0x8267, 0x8337, 0x2315, 0x6201, 0x4223, 0x1326],
        [0x8267, 0x8337, 0x4113, 0x6201, 0x3304, 0x1146, 0x5102, 0x4223, 0x1326],
        [0x4113, 0x4223, 0x1326, 0x1146, 0x8267, 0x8337],
        [0x3304, 0x2315, 0x4113, 0x4223, 0x8267, 0x1146],
        [0x2315, 0x6201, 0x5102, 0x1146, 0x8267, 0x4223, 0x4113],
        [0x1146, 0x8267, 0x4223, 0x6201, 0x3304],
        [0x5102, 0x1146, 0x8267, 0x4223],
        [0x8267, 0x1326, 0x5102, 0x4113, 0x2315, 0x3304, 0x1146],
        [0x6201, 0x4113, 0x2315, 0x1326, 0x1146, 0x8267],
        [0x6201, 0x3304, 0x1146, 0x8267, 0x1326, 0x5102],
        [0x1326, 0x1146, 0x8267],
        [0x1326, 0x8337, 0x8157, 0x1146],
        [0x8337, 0x8157, 0x1146, 0x1326, 0x6201, 0x5102, 0x3304],
        [0x8337, 0x8157, 0x1146, 0x1326, 0x6201, 0x2315, 0x4113],
        [0x4113, 0x5102, 0x3304, 0x2315, 0x1326, 0x8337, 0x8157, 0x1146],
        [0x8337, 0x8157, 0x1146, 0x5102, 0x4223],
        [0x6201, 0x4223, 0x8337, 0x8157, 0x1146, 0x3304],
        [0x8337, 0x8157, 0x1146, 0x5102, 0x4223, 0x6201, 0x2315, 0x4113],
        [0x4223, 0x8337, 0x8157, 0x1146, 0x3304, 0x2315, 0x4113],
        [0x4223, 0x4113, 0x8157, 0x1146, 0x1326],
        [0x4223, 0x4113, 0x8157, 0x1146, 0x1326, 0x6201, 0x5102, 0x3304], 
        [0x1146, 0x8157, 0x2315, 0x6201, 0x4223, 0x1326],
        [0x4223, 0x5102, 0x3304, 0x2315, 0x8157, 0x1146, 0x1326],
        [0x4113, 0x8157, 0x1146, 0x5102],
        [0x6201, 0x4113, 0x8157, 0x1146, 0x3304],
        [0x2315, 0x8157, 0x1146, 0x5102, 0x6201],
        [0x2315, 0x8157, 0x1146, 0x3304],
        [0x2245, 0x3304, 0x1326, 0x8337, 0x8157],
        [0x6201, 0x2245, 0x8157, 0x8337, 0x1326, 0x5102],
        [0x2245, 0x3304, 0x1326, 0x8337, 0x8157, 0x6201, 0x2315, 0x4113],
        [0x2245, 0x2315, 0x4113, 0x5102, 0x1326, 0x8337, 0x8157],
        [0x4223, 0x8337, 0x8157, 0x2245, 0x3304, 0x5102],
        [0x8157, 0x2245, 0x6201, 0x4223, 0x8337],
        [0x2245, 0x3304, 0x5102, 0x4223, 0x8337, 0x8157, 0x4113, 0x6201, 0x2315],
        [0x4223, 0x8337, 0x8157, 0x2245, 0x2315, 0x4113],
        [0x4113, 0x8157, 0x2245, 0x3304, 0x1326, 0x4223],
        [0x1326, 0x4223, 0x4113, 0x8157, 0x2245, 0x6201, 0x5102],
        [0x8157, 0x2245, 0x3304, 0x1326, 0x4223, 0x6201, 0x2315],
        [0x5102, 0x1326, 0x4223, 0x2315, 0x8157, 0x2245],
        [0x3304, 0x5102, 0x4113, 0x8157, 0x2245],
        [0x4113, 0x8157, 0x2245, 0x6201],
        [0x5102, 0x6201, 0x2315, 0x8157, 0x2245, 0x3304],
        [0x2315, 0x8157, 0x2245],
        [0x1146, 0x1326, 0x8337, 0x2315, 0x2245],
        [0x1146, 0x1326, 0x8337, 0x2315, 0x2245, 0x6201, 0x5102, 0x3304],
        [0x6201, 0x2245, 0x1146, 0x1326, 0x8337, 0x4113],
        [0x2245, 0x1146, 0x1326, 0x8337, 0x4113, 0x5102, 0x3304],
        [0x5102, 0x1146, 0x2245, 0x2315, 0x8337, 0x4223],
        [0x1146, 0x3304, 0x6201, 0x4223, 0x8337, 0x2315, 0x2245],
        [0x8337, 0x4113, 0x6201, 0x2245, 0x1146, 0x5102, 0x4223],
        [0x4223, 0x8337, 0x4113, 0x3304, 0x2245, 0x1146],
        [0x4113, 0x2315, 0x2245, 0x1146, 0x1326, 0x4223],
        [0x1146, 0x1326, 0x4223, 0x4113, 0x2315, 0x2245, 0x6201, 0x5102, 0x3304],
        [0x1326, 0x4223, 0x6201, 0x2245, 0x1146],
        [0x4223, 0x5102, 0x3304, 0x2245, 0x1146, 0x1326],
        [0x2245, 0x1146, 0x5102, 0x4113, 0x2315],
        [0x4113, 0x2315, 0x2245, 0x1146, 0x3304, 0x6201],
        [0x6201, 0x2245, 0x1146, 0x5102], 
        [0x3304, 0x2245, 0x1146],
        [0x3304, 0x1326, 0x8337, 0x2315],
        [0x5102, 0x1326, 0x8337, 0x2315, 0x6201],
        [0x6201, 0x3304, 0x1326, 0x8337, 0x4113],
        [0x5102, 0x1326, 0x8337, 0x4113],
        [0x4223, 0x8337, 0x2315, 0x3304, 0x5102],
        [0x6201, 0x4223, 0x8337, 0x2315],
        [0x3304, 0x5102, 0x4223, 0x8337, 0x4113, 0x6201], 
        [0x4113, 0x4223, 0x8337],
        [0x4113, 0x2315, 0x3304, 0x1326, 0x4223],
        [0x1326, 0x4223, 0x4113, 0x2315, 0x6201, 0x5102],
        [0x3304, 0x1326, 0x4223, 0x6201],
        [0x5102, 0x1326, 0x4223],
        [0x5102, 0x4113, 0x2315, 0x3304],
        [0x6201, 0x4113, 0x2315],
        [0x6201, 0x3304, 0x5102],
        []
    ];
}